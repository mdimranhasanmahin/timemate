<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Study Timer is a simple yet effective tool to manage your study sessions efficiently. Stay focused and productive!">
  <meta name="keywords" content="Focus Timer, Online Timer, Stopwatch, Study Timer, Pomodoro Timer, Free Online Timer, Countdown Timer, Online Timer with Alarm Sound, Meditation Timer with Bells Online, Time management tool for students">
  <meta name="author" content="Md Imran Hasan Mahin">
  <meta name="robots" content="index, follow">
  <meta property="og:title" content="Focus Timer - Achieve More with Better Time Management">
  <meta property="og:description" content="Manage your study sessions effectively with Study Timer. Stay productive!">
  <meta property="og:image" content="https://mdimranhasanmahin.github.io/focus-timer/hii.png">
  <meta property="og:url" content="https://mdimranhasanmahin.github.io/focus-timer">
  <meta name="twitter:card" content="summary_large_image">
  <link rel="icon" href="hii.png" type="image/x-icon">
  <title>Focus Timer - Online Timer for Work, Study & Tasks</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>body { font-family: 'Courier New', Courier, monospace; }</style>
</head>

<body class="bg-black text-white flex flex-col items-center justify-center min-h-screen relative p-4">
  <button id="dashboardBtn" class="absolute top-4 left-4 px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white font-bold rounded text-sm sm:text-base" aria-label="Open Dashboard">Dashboard</button>
  <div id="realTime" class="absolute top-4 right-4 text-xs sm:text-sm font-mono opacity-70" aria-live="polite"></div>
  <div class="text-center space-y-6 sm:space-y-8">
    <h1 class="text-2xl sm:text-3xl font-bold">Focus Timer</h1>
    <div id="timerDisplay" class="text-6xl sm:text-8xl font-bold" aria-live="polite">00:00:00</div>
    <div class="space-x-2 sm:space-x-4">
      <button id="setTimeBtn" class="px-4 py-2 sm:px-6 sm:py-3 bg-blue-600 hover:bg-blue-500 text-white font-bold text-sm sm:text-xl rounded" aria-label="Set Timer">Set Time</button>
      <button id="startBtn" class="px-4 py-2 sm:px-6 sm:py-3 bg-green-600 hover:bg-green-500 text-white font-bold text-sm sm:text-xl rounded" aria-label="Start Timer">Start</button>
    </div>
  </div>

  <!-- Set Timer Modal -->
  <div id="timeModal" class="hidden fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4" role="dialog" aria-modal="true">
    <div class="bg-gray-800 text-white p-4 sm:p-6 rounded shadow-lg space-y-4 w-full max-w-xs sm:max-w-md">
      <h2 class="text-lg sm:text-xl font-bold text-center">Set Timer</h2>
      <div class="flex justify-center space-x-2 sm:space-x-4">
        <input id="hoursInput" type="number" min="0" max="23" placeholder="HH" class="w-12 sm:w-16 p-2 bg-gray-700 text-white text-center rounded" aria-label="Hours">
        <input id="minutesInput" type="number" min="0" max="59" placeholder="MM" class="w-12 sm:w-16 p-2 bg-gray-700 text-white text-center rounded" aria-label="Minutes">
        <input id="secondsInput" type="number" min="0" max="59" placeholder="SS" class="w-12 sm:w-16 p-2 bg-gray-700 text-white text-center rounded" aria-label="Seconds">
      </div>
      <div class="flex justify-center space-x-2 sm:space-x-4">
        <button id="saveTimeBtn" class="px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white font-bold text-sm sm:text-base rounded">Save</button>
        <button id="closeModalBtn" class="px-4 py-2 bg-red-600 hover:bg-red-500 text-white font-bold text-sm sm:text-base rounded">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Dashboard Modal -->
  <div id="dashboardModal" class="hidden fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4" role="dialog" aria-modal="true">
    <div class="bg-gray-900 text-white p-4 sm:p-6 rounded shadow-lg w-full max-w-xs sm:max-w-3xl space-y-4 sm:space-y-6">
      <h2 class="text-xl sm:text-2xl font-bold text-center">Dashboard</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <div class="p-4 bg-blue-600 text-center rounded-lg">
          <h3 class="text-sm sm:text-lg font-bold">Today</h3>
          <p id="todayUsage" class="text-2xl sm:text-4xl font-bold">0 Hr 0 Min</p>
        </div>
        <div class="p-4 bg-green-600 text-center rounded-lg">
          <h3 class="text-sm sm:text-lg font-bold">Daily Average</h3>
          <p id="dailyAverage" class="text-2xl sm:text-4xl font-bold">0 Hr 0 Min</p>
        </div>
      </div>
      <div>
        <h3 class="text-sm sm:text-lg font-bold mb-2">Monthly</h3>
        <canvas id="monthlyChart"></canvas>
      </div>
      <div class="text-center">
        <button id="closeDashboardBtn" class="px-4 py-2 bg-red-600 hover:bg-red-500 text-white font-bold text-sm sm:text-base rounded">Close</button>
      </div>
    </div>
  </div>

  <audio id="alarmSound" src="bell-ring-01.wav" preload="auto"></audio>

  <script>
    let timerInterval, hours = 0, minutes = 0, seconds = 0;
    let isRunning = false;
    const todayUsageEl = document.getElementById("todayUsage");
    const dailyAverageEl = document.getElementById("dailyAverage");
    const monthlyChartEl = document.getElementById("monthlyChart");
    let todayUsage = parseInt(localStorage.getItem("todayUsage")) || 0;
    let monthlyUsage = JSON.parse(localStorage.getItem("monthlyUsage")) || Array(12).fill(0);

    function updateRealTime() {
      const now = new Date();
      const timeString = now.toLocaleTimeString();
      document.getElementById("realTime").textContent = timeString;
      requestAnimationFrame(updateRealTime);
    }

    updateRealTime();

    function updateTimerDisplay() {
      document.getElementById("timerDisplay").textContent =
        `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
    }

    function startTimer() {
      const startTime = new Date();
      if (timerInterval) clearInterval(timerInterval);
      document.getElementById("startBtn").textContent = "Stop";
      isRunning = true;
      timerInterval = setInterval(() => {
        if (seconds > 0) seconds--;
        else if (minutes > 0) { minutes--; seconds = 59; }
        else if (hours > 0) { hours--; minutes = 59; seconds = 59; }
        else {
          clearInterval(timerInterval);
          document.getElementById("alarmSound").play();
          updateUsage(startTime);
        }
        updateTimerDisplay();
      }, 1000);
    }

    function stopTimer() {
      clearInterval(timerInterval);
      document.getElementById("startBtn").textContent = "Start";
      isRunning = false;
    }

    function updateUsage(startTime) {
      const endTime = new Date();
      const sessionMinutes = Math.floor((endTime - startTime) / 60000);
      todayUsage += sessionMinutes;
      monthlyUsage[new Date().getMonth()] += sessionMinutes;
      localStorage.setItem("todayUsage", todayUsage);
      localStorage.setItem("monthlyUsage", JSON.stringify(monthlyUsage));
      updateDashboard();
    }

    function updateDashboard() {
      todayUsageEl.textContent = `${Math.floor(todayUsage / 60)} Hr ${todayUsage % 60} Min`;
      dailyAverageEl.textContent = `${Math.floor(todayUsage / 60)} Hr ${todayUsage % 60} Min`;
      monthlyChart.data.datasets[0].data = monthlyUsage;
      monthlyChart.update();
    }

    const monthlyChart = new Chart(monthlyChartEl, {
      type: 'bar',
      data: { labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], datasets: [{ data: monthlyUsage, backgroundColor: "#4caf50", borderColor: "#388e3c", borderWidth: 1 }]},
      options: { responsive: true, scales: { y: { beginAtZero: true }}}
    });

    document.getElementById("setTimeBtn").addEventListener("click", () => {
      document.getElementById("timeModal").classList.remove("hidden");
    });

    document.getElementById("saveTimeBtn").addEventListener("click", () => {
      const h = parseInt(document.getElementById("hoursInput").value) || 0;
      const m = parseInt(document.getElementById("minutesInput").value) || 0;
      const s = parseInt(document.getElementById("secondsInput").value) || 0;
      setTimer(h, m, s);
      document.getElementById("timeModal").classList.add("hidden");
    });

    document.getElementById("closeModalBtn").addEventListener("click", () => {
      document.getElementById("timeModal").classList.add("hidden");
    });

    function setTimer(h, m, s) {
      hours = h;
      minutes = m;
      seconds = s;
      updateTimerDisplay();
    }

    document.getElementById("startBtn").addEventListener("click", () => {
      if (isRunning) stopTimer();
      else startTimer();
    });

    document.getElementById("dashboardBtn").addEventListener("click", () => {
      document.getElementById("dashboardModal").classList.remove("hidden");
      updateDashboard();
    });

    document.getElementById("closeDashboardBtn").addEventListener("click", () => {
      document.getElementById("dashboardModal").classList.add("hidden");
    });
  </script>
</body>
</html>
